<head>
  <link
    rel="stylesheet"
    href="https://unpkg.com/boxicons@latest/css/boxicons.min.css"
  />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
</head>

<div class="content">
  <h1 class="courses-title">
    <i class="bx bx-book" style="margin: 10px"></i>Cursos
  </h1>
  <input type="text" class="search-bar" placeholder="Buscar..." [(ngModel)]="searchTerm" (input)="filterSeasons()" />
  <div class="filtro-categorias">
    <mat-chip-listbox #chipList>
      <mat-chip-option
        style="padding: 0.1rem 0.3rem"
        class="chip-selected"
        *ngFor="let categoria of categorias"
        [selected]="categoria === 'All'"
        [disabled]="selectedCategory !== null && selectedCategory === categoria"
        (click)="filtrarPorCategoria(categoria)"
      >
        {{ categoria }}
      </mat-chip-option>
    </mat-chip-listbox>
  </div>

  <table class="custom-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Curso</th>
        <th>Modo</th>
        <th>Nivel</th>
        <th>Profesor</th>
        <th>Turno</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let season of seasonsFilter" class="table-row">
        <td>{{ season.seas_id }}</td>
        <td>{{ season.seas_course.cour_description }}</td>
        <td>
          <ng-container *ngIf="season.seas_mode.mode_name === 'Virtual'">
            <span class="icon-with-text">
              <i class="bx bxl-zoom icon" style="margin-right: 5px"></i> Virtual
            </span>
          </ng-container>
          <ng-container *ngIf="season.seas_mode.mode_name === 'Online'">
            <span class="icon-with-text">
              <i class="bx bx-desktop icon" style="margin-right: 5px"></i>
              Online
            </span>
          </ng-container>
          <ng-container *ngIf="season.seas_mode.mode_name === 'Presencial'">
            <span class="icon-with-text">
              <i class="bx bx-user icon" style="margin-right: 5px"></i>
              Presencial
            </span>
          </ng-container>
        </td>

        <td>
          <ng-container *ngIf="season.seas_course.cour_level === 1">
            <span class="icon-with-text">
              <i
                class="bx bxs-up-arrow icon"
                style="color: green; margin-right: 5px"
              ></i>
              Nivel 1
            </span>
          </ng-container>
          <ng-container *ngIf="season.seas_course.cour_level === 2">
            <span class="icon-with-text">
              <i
                class="bx bxs-up-arrow icon"
                style="color: yellow; margin-right: 5px"
              ></i>
              Nivel 2
            </span>
          </ng-container>
          <ng-container *ngIf="season.seas_course.cour_level === 3">
            <span class="icon-with-text">
              <i
                class="bx bxs-up-arrow icon"
                style="color: red; margin-right: 5px"
              ></i>
              Nivel 3
            </span>
          </ng-container>
        </td>

        <td>
          {{
            season.seas_teacher.memb_name +
              " " +
              season.seas_teacher.memb_surname
          }}
        </td>
        <td>{{ season.seas_schedule.sche_starttime }}</td>
        <td>
          <button class="button-detail">
            <i
              class="bx bx-pencil"
              style="margin-right: 5px; margin-top: 2px"
            ></i
            >Inscribirme
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <mat-paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 15, 20]"></mat-paginator>
</div>
